import React, {Component} from 'react';
import Frame from "./Frame";
import sch from "../imgs/search.png";
import lock from "../imgs/lock.png";
import loc from "../imgs/loc.png";
import coin from "../imgs/coin.png";
import acc from "../imgs/acc.png";
import area from "../imgs/area.png";
import family from "../imgs/family.png";
import plat from "../imgs/plat.png";
import tim from "../imgs/tim.png";
import code from "../imgs/code.png";
import Button from '@material-ui/core/Button';
import Navigation from "./Navigation";
import FrameTitle from "./FrameTitle";
import Grid from '@material-ui/core/Grid';
import SiteorApp from "./SiteorApp";
import Location from "./Location";
import "../assets/css/anim.css"

export default class ExploitApp extends Component {
    constructor (props) {
        super(props);

        this.state = {
            opacity2: ["block3","block3","block3","block3","block3","rright","rright","rright","hide"],
            flag:false,     
        }
    }
    componentDidMount() {
        setTimeout(this.func,1500);
    }
    func = () => {
        this.id2 = setInterval(this.add2,1540);
    }
    add2 = () =>{
        if (this.state.opacity2[0] == "block3") {
            this.state.opacity2[0] = "block4"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[1] == "block3") {
            this.state.opacity2[1] = "block4"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[2] == "block3") {
            this.state.opacity2[2] = "block4"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[3] == "block3") {
            this.state.opacity2[3] = "block4"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[4] == "block3") {
            this.state.opacity2[4] = "block4"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.flag == false) {
            this.setState({
                flag: true
            });
        }else if (this.state.opacity2[5] == "rright") {
            this.state.opacity2[5] = "rright2"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[6] == "rright") {
            this.state.opacity2[6] = "rright2"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[7] == "rright") {
            this.state.opacity2[7] = "rright2"
            this.setState({
                display: this.state.opacity2
            });
        }else if (this.state.opacity2[8] == "hide") {
            this.state.opacity2[8] = "show"
            this.setState({
                display: this.state.opacity2
            });
        }else{
            console.log(123456)
            clearInterval(this.id2);
        }
    }
    handleOnclick(value){
        this.props.fatherChange(value);
    }
    render(){
        let bank1 = this.props.accounts[0].bankIcon;
        let bank2 = this.props.accounts[1].bankIcon;
        let pay1 = this.props.paymentChannel[0].channelIcon;
        let pay2 = this.props.paymentChannel[1].channelIcon;
        let pay3 = this.props.paymentChannel[2].channelIcon;
        let pay4 = this.props.paymentChannel[3].channelIcon;
        let bank_1 = require('../imgs/'+bank1).default
        let bank_2 = require('../imgs/'+bank2).default
        let pay_1 = require('../imgs/'+pay1).default;
        let pay_2 = require('../imgs/'+pay2).default;
        let pay_3 = require('../imgs/'+pay3).default;
        let pay_4 = require('../imgs/'+pay4).default;

        return (      
            <div style={{marginTop: "10px",backgroundColor: '#111D4A', marginLeft:"7%"}}>
                <Grid container spacing={0}>
                    
                    <Grid item xs={4}>
                        <SiteorApp 
                            grandfatherChange={this.props.fatherChange}
                            active={this.props.img_number} 
                            flag={this.props.flag}
                            screenshotapp={this.props.appscreen}
                            />                                
                    </Grid>
                    <Grid item xs={4}>
                    <div style={{width:"90%"}}>
                        <div style={{width:"100%",margin:"auto"}}>
                            <Frame>
                                <FrameTitle value={"应用信息"}/>
                                <div className={this.state.opacity2[0]} style={{display:"flex"}}>
                                    <Grid item xs={1}>
                                        <img src={area} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={10}>
                                    <div style={{position:"relative",left:"5%"}}>
                                        <p className="text3">后台服务器地址</p>
                                        <p className="text4">{this.props.appDomain}</p>
                                    </div>
                                    </Grid>
                                </div>

                                <div className={this.state.opacity2[1]} style={{display:"flex"}}>
                                    <Grid item xs={1}>
                                        <img src={loc} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={10}>
                                    <div style={{position:"relative",left:"5%",width:'95%'}}>
                                        <p className="text3">IP地址</p>
                                        <p className="text4">{this.props.appIp}</p>
                                        <p className="text4">{this.props.appLocation}</p>
                                        <Location appcenter={this.props.appcenter} flag="app" appaddress={this.props.appaddress}/>
                                        <br></br>
                                    </div>
                                    </Grid>
                                </div>

                                <div className={this.state.opacity2[2]} style={{display:"flex"}}>
                                    <Grid item xs={1}>
                                        <img src={family} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={4}>
                                        <div style={{position:"relative",left:"13%"}}>
                                            <p className="text3">家族</p>
                                            <p className="text4">{this.props.family}</p>
                                        </div>
                                    </Grid>
                                    <Grid item xs={1}>
                                        <img src={plat} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={6}>
                                        <div style={{position:"relative",left:"5%"}}> 
                                            <p className="text3">分发平台</p>
                                            <p className="text4">{this.props.platform}</p>
                                        </div>
                                    </Grid>
                                </div>
                                <div className={this.state.opacity2[3]} style={{display:"flex"}}>
                                    <Grid item xs={1}>
                                        <img src={code} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={10}>
                                        <div style={{position:"relative",left:"5%"}}>
                                            <p className="text3">版本号</p>
                                            <p className="text4">{this.props.version}</p>
                                        </div>
                                    </Grid>
                                </div>
                                <div className={this.state.opacity2[4]} style={{display:"flex"}}>
                                    <Grid item xs={1}>
                                        <img src={tim} className="loc" alt=""/>
                                    </Grid>
                                    <Grid item xs={10}>
                                        <div style={{position:"relative",left:"5%"}}>
                                            <p className="text3">应用制作时间</p>
                                            <p className="text4">{this.props.produceTime}</p>
                                        </div>
                                    </Grid>
                                </div>
                            </Frame>
                        </div>
                        </div>
                    </Grid>
                    <Grid item xs={4}>
                    <div style={{width:"75%"}}>
                    <div style={{width:"100%"}}>
                        <Frame>
                            <FrameTitle value={"支付信息"}/>
                            <div style={{position:"relative"}}>
                                <div className={this.state.opacity2[5]}>
                                    <Grid item xs={1}>
                                        <img src={coin} className="site" alt=""/>
                                    </Grid>
                                    <Grid item xs={5}>
                                    <div style={{position:"relative",width:"90%",left:"9%"}}>
                                        <p className="text3">支付通道</p>
                                        <div>
                                            {this.props.paymentChannel.map((Obj)=>{
                                                return(
                                                    <p className="text4">{Obj.channel}</p>
                                                    )
                                                })
                                            }
                                        </div>
                                    </div>
                                    </Grid>
                                    <Grid item xs={2}>
                                    <div style={{position:"relative", top:"20%"}}>
                                        <img src={pay_1} className="pay" alt=""/>                                        
                                        <img src={pay_2} className="pay" alt=""/>
                                    </div>
                                    </Grid>
                                    <Grid item xs={2}>
                                    <div style={{position:"relative", top:"20%"}}>
                                        <img src={pay_3} className="pay" alt=""/>
                                        <img src={pay_4} className="pay" alt=""/>
                                    </div>
                                    </Grid>
                                </div>
                                <div className={this.state.opacity2[6]}>
                                    <Grid item xs={1}>
                                        <img src={acc} className="site" alt=""/>
                                    </Grid>
                                    <Grid item xs={8}>
                                    <div style={{position:"relative",width:"95%",left:"5%"}}>
                                        <p className="text3">收款账户</p>
                                        <div>{
                                            this.props.accounts.map((Obj)=>{
                                                return(
                                                    <div>
                                                        <p className="text4">{Obj.accountNo}</p>
                                                        <p className="text4">{Obj.bank}&emsp;{Obj.person}</p>
                                                    </div>
                                                    )
                                                })
                                            }
                                        </div>
                                    </div>
                                    </Grid>
                                    <Grid item xs={2}>
                                    <div style={{position:"relative",top:"25%"}}>
                                        
                                        <img src={bank_1} className="bank" alt=""/>
                                        <img src={bank_2} className="bank" alt=""/>
                                    </div>
                                    </Grid>
                                </div>
                            </div>
                        </Frame>
                    </div>
                    <div style={{marginTop:"25px"}}>
                        <Frame>
                            <FrameTitle value={"签名信息"}/>
                            <div className={this.state.opacity2[7]}>
                                <Grid item xs={1}>
                                    <img src={lock} className="lock" alt=""/>
                                </Grid>
                                <Grid item xs={9}>
                                <div style={{position:"relative",width:"95%",left:"5%"}}>
                                    <p className="text3">签名发布者</p>
                                    <p className="text4">{this.props.signature.issuer}</p>
                                    <p className="text3">签名时间</p>
                                    <p className="text4">{this.props.signature.signTime}</p>
                                    <p className="text3">MD5签名</p>
                                    <p className="text4">{this.props.signature.mD5}</p>
                                </div>
                                </Grid>
                            </div>
                        </Frame>
                    </div>

                    <div style={{marginTop:"30px"}}>
                        <Frame>
                        <div className={this.state.opacity2[8]}>
                            <img src={sch} className="icon" alt=""/>
                            <Grid item xs={8}>
                                <div style={{position:"relative",left:"10%",marginTop:"0px",marginBottom:"10px"}}>
                                    <p className="text3">检测到可访问网站</p>
                                </div>
                            </Grid>
                            <Grid item xs={4}>
                                <div style={{marginTop:"10px"}}>
                                    <Button size="small" style={{backgroundColor:"#3ac0d8",color:"white"}} onClick={this.handleOnclick.bind(this,1)}>查看一下</Button>
                                </div>
                            </Grid>
                        </div>
                        </Frame>
                    </div>
                    </div>
                    </Grid>
                </Grid>
            </div>
        );
    }  
}


    

